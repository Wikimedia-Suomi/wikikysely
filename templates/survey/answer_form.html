{% extends 'base.html' %}
{% load i18n %}
{% block title %}{% translate 'Answer question' %}{% endblock %}
{% block content %}
<h2>{{ question.text }}</h2>
{% if request.user.is_authenticated %}
<form method="post">
  {% csrf_token %}
  {% if form.non_field_errors %}
    <div class="alert alert-danger">{{ form.non_field_errors }}</div>
  {% endif %}
  {% for field in form.hidden_fields %}
    {{ field }}
  {% endfor %}
  {% with current=form.instance.answer %}
  <div class="yes-no-toggle {% if current == 'no' %}no-active{% else %}yes-active{% endif %}">
    <button type="submit" name="answer" value="yes" class="btn yes-btn{% if current == 'yes' %} active{% endif %}">{% translate 'Yes' %}</button>
    <button type="submit" name="answer" value="no" class="btn no-btn{% if current == 'no' %} active{% endif %}">{% translate 'No' %}</button>
  </div>
  {% endwith %}
  {% if is_edit %}
    <a href="{% url 'survey:survey_detail' %}" class="btn btn-secondary">{% translate 'Cancel' %}</a>
    {% if survey.state == 'running' %}
    <a href="{% url 'survey:answer_delete' form.instance.pk %}" class="btn btn-danger ms-2">{% translate 'Remove answer' %}</a>
    {% endif %}
  {% else %}
    <button type="submit" name="answer" value="" class="btn btn-secondary">{% translate 'Skip' %}</button>
  {% endif %}
</form>
{% endif %}
{% endblock %}
